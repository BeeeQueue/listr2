# Class: DefaultRenderer

[renderer/default.renderer](../modules/renderer_default_renderer.md).DefaultRenderer

Default updating renderer for Listr2

## Implements

- [`ListrRenderer`](index.ListrRenderer.md)

## Properties

### nonTTY

▪ `Static` **nonTTY**: `boolean` = `false`

designates whether this renderer can output to a non-tty console

#### Defined in

[src/renderer/default.renderer.ts:18](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L18)

---

### rendererOptions

▪ `Static` **rendererOptions**: `Object`

renderer options for the defauult renderer

#### Type declaration

| Name | Type | Description |
| :-- | :-- | :-- |
| `indentation?` | `number` | indentation per level of subtask **`default`** 2 |
| `clearOutput?` | `boolean` | clear all the output generated by the renderer when the task finishes its execution **`default`** false **`global`** global option that can not be temperated with subtasks |
| `showSubtasks?` | `boolean` | show the subtasks of the current task **`default`** true |
| `collapse?` | `boolean` | collapse subtasks after current task completes its execution **`default`** true |
| `showSkipMessage?` | `boolean` | show skip messages or show the original title of the task, this will also disable collapseSkips mode You can disable showing the skip messages, even though you passed in a message by settings this option, if you want to keep the original task title intact. **`default`** true |
| `collapseSkips?` | `boolean` | collapse skip messages into a single message and overwrite the task title **`default`** true |
| `suffixSkips?` | `boolean` | suffix skip messages with [SKIPPED] when in collapseSkips mode **`default`** true |
| `showErrorMessage?` | `boolean` | shows the thrown error message or show the original title of the task, this will also disable collapseErrors mode You can disable showing the error messages, even though you passed in a message by settings this option, if you want to keep the original task title intact. **`default`** true |
| `collapseErrors?` | `boolean` | collapse error messages into a single message and overwrite the task title **`default`** true |
| `suffixRetries?` | `boolean` | suffix retry messages with [RETRY-${COUNT}] when retry is enabled for a task **`default`** true |
| `lazy?` | `boolean` | only update through triggers from renderhook useful for tests and stuff. this will disable showing spinner and only update the screen if something else has happened in the task worthy to show **`default`** false **`global`** global option that can not be temperated with subtasks |
| `showTimer?` | `boolean` | show duration for all tasks **`default`** false **`global`** global option that can not be temperated with subtasks |
| `removeEmptyLines?` | `boolean` | removes empty lines from the data output **`default`** true |
| `formatOutput?` | `"truncate"` \| `"wrap"` | formats data output depending on your requirements. **`default`** 'truncate' **`global`** global option that can not be temperated with subtasks |

#### Defined in

[src/renderer/default.renderer.ts:20](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L20)

---

### rendererTaskOptions

▪ `Static` **rendererTaskOptions**: `Object`

per task options for the default renderer

#### Type declaration

| Name | Type | Description |
| :-- | :-- | :-- |
| `bottomBar?` | `number` \| `boolean` | write task output to the bottom bar instead of the gap under the task title itself. useful for a stream of data. **`default`** false `true` only keep 1 line of the latest data outputted by the task. `false` only keep 1 line of the latest data outputted by the task. `number` will keep designated data of the latest data outputted by the task. |
| `persistentOutput?` | `boolean` | keep output after task finishes **`default`** false works both for the bottom bar and the default behavior |
| `showTimer?` | `boolean` | show the task time if it was successful |

#### Defined in

[src/renderer/default.renderer.ts:135](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L135)

---

### id

• `Private` `Optional` **id**: `Timeout`

#### Defined in

[src/renderer/default.renderer.ts:159](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L159)

---

### bottomBar

• `Private` **bottomBar**: `Object` = `{}`

#### Index signature

▪ [uuid: `string`]: { `data?`: `string`[] ; `items?`: `number` }

#### Defined in

[src/renderer/default.renderer.ts:160](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L160)

---

### promptBar

• `Private` **promptBar**: `string`

#### Defined in

[src/renderer/default.renderer.ts:161](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L161)

---

### spinner

• `Private` `Readonly` **spinner**: `string`[]

#### Defined in

[src/renderer/default.renderer.ts:162](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L162)

---

### spinnerPosition

• `Private` **spinnerPosition**: `number` = `0`

#### Defined in

[src/renderer/default.renderer.ts:163](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L163)

---

### tasks

• **tasks**: [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\>[]

---

### options

• **options**: `Object`

#### Type declaration

| Name | Type | Description |
| :-- | :-- | :-- |
| `indentation?` | `number` | indentation per level of subtask **`default`** 2 |
| `clearOutput?` | `boolean` | clear all the output generated by the renderer when the task finishes its execution **`default`** false **`global`** global option that can not be temperated with subtasks |
| `showSubtasks?` | `boolean` | show the subtasks of the current task **`default`** true |
| `collapse?` | `boolean` | collapse subtasks after current task completes its execution **`default`** true |
| `showSkipMessage?` | `boolean` | show skip messages or show the original title of the task, this will also disable collapseSkips mode You can disable showing the skip messages, even though you passed in a message by settings this option, if you want to keep the original task title intact. **`default`** true |
| `collapseSkips?` | `boolean` | collapse skip messages into a single message and overwrite the task title **`default`** true |
| `suffixSkips?` | `boolean` | suffix skip messages with [SKIPPED] when in collapseSkips mode **`default`** true |
| `showErrorMessage?` | `boolean` | shows the thrown error message or show the original title of the task, this will also disable collapseErrors mode You can disable showing the error messages, even though you passed in a message by settings this option, if you want to keep the original task title intact. **`default`** true |
| `collapseErrors?` | `boolean` | collapse error messages into a single message and overwrite the task title **`default`** true |
| `suffixRetries?` | `boolean` | suffix retry messages with [RETRY-${COUNT}] when retry is enabled for a task **`default`** true |
| `lazy?` | `boolean` | only update through triggers from renderhook useful for tests and stuff. this will disable showing spinner and only update the screen if something else has happened in the task worthy to show **`default`** false **`global`** global option that can not be temperated with subtasks |
| `showTimer?` | `boolean` | show duration for all tasks **`default`** false **`global`** global option that can not be temperated with subtasks |
| `removeEmptyLines?` | `boolean` | removes empty lines from the data output **`default`** true |
| `formatOutput?` | `"truncate"` \| `"wrap"` | formats data output depending on your requirements. **`default`** 'truncate' **`global`** global option that can not be temperated with subtasks |

---

### renderHook$

• `Optional` **renderHook$**: `Subject`<`void`\>

## Constructors

### constructor

• **new DefaultRenderer**(`tasks`, `options`, `renderHook$?`)

#### Parameters

| Name | Type | Description |
| :-- | :-- | :-- |
| `tasks` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\>[] | - |
| `options` | `Object` | - |
| `options.indentation?` | `number` | indentation per level of subtask **`default`** 2 |
| `options.clearOutput?` | `boolean` | clear all the output generated by the renderer when the task finishes its execution **`default`** false **`global`** global option that can not be temperated with subtasks |
| `options.showSubtasks?` | `boolean` | show the subtasks of the current task **`default`** true |
| `options.collapse?` | `boolean` | collapse subtasks after current task completes its execution **`default`** true |
| `options.showSkipMessage?` | `boolean` | show skip messages or show the original title of the task, this will also disable collapseSkips mode You can disable showing the skip messages, even though you passed in a message by settings this option, if you want to keep the original task title intact. **`default`** true |
| `options.collapseSkips?` | `boolean` | collapse skip messages into a single message and overwrite the task title **`default`** true |
| `options.suffixSkips?` | `boolean` | suffix skip messages with [SKIPPED] when in collapseSkips mode **`default`** true |
| `options.showErrorMessage?` | `boolean` | shows the thrown error message or show the original title of the task, this will also disable collapseErrors mode You can disable showing the error messages, even though you passed in a message by settings this option, if you want to keep the original task title intact. **`default`** true |
| `options.collapseErrors?` | `boolean` | collapse error messages into a single message and overwrite the task title **`default`** true |
| `options.suffixRetries?` | `boolean` | suffix retry messages with [RETRY-${COUNT}] when retry is enabled for a task **`default`** true |
| `options.lazy?` | `boolean` | only update through triggers from renderhook useful for tests and stuff. this will disable showing spinner and only update the screen if something else has happened in the task worthy to show **`default`** false **`global`** global option that can not be temperated with subtasks |
| `options.showTimer?` | `boolean` | show duration for all tasks **`default`** false **`global`** global option that can not be temperated with subtasks |
| `options.removeEmptyLines?` | `boolean` | removes empty lines from the data output **`default`** true |
| `options.formatOutput?` | `"truncate"` \| `"wrap"` | formats data output depending on your requirements. **`default`** 'truncate' **`global`** global option that can not be temperated with subtasks |
| `renderHook$?` | `Subject`<`void`\> | - |

#### Defined in

[src/renderer/default.renderer.ts:165](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L165)

## Methods

### getTaskOptions

▸ **getTaskOptions**(`task`): `Object`

#### Parameters

| Name   | Type                                                                                                                            |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> |

#### Returns

`Object`

| Name | Type | Description |
| :-- | :-- | :-- |
| `bottomBar?` | `number` \| `boolean` | write task output to the bottom bar instead of the gap under the task title itself. useful for a stream of data. **`default`** false `true` only keep 1 line of the latest data outputted by the task. `false` only keep 1 line of the latest data outputted by the task. `number` will keep designated data of the latest data outputted by the task. |
| `persistentOutput?` | `boolean` | keep output after task finishes **`default`** false works both for the bottom bar and the default behavior |
| `showTimer?` | `boolean` | show the task time if it was successful |

#### Defined in

[src/renderer/default.renderer.ts:169](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L169)

---

### isBottomBar

▸ **isBottomBar**(`task`): `boolean`

#### Parameters

| Name   | Type                                                                                                                            |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> |

#### Returns

`boolean`

#### Defined in

[src/renderer/default.renderer.ts:173](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L173)

---

### hasPersistentOutput

▸ **hasPersistentOutput**(`task`): `boolean`

#### Parameters

| Name   | Type                                                                                                                            |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> |

#### Returns

`boolean`

#### Defined in

[src/renderer/default.renderer.ts:179](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L179)

---

### hasTimer

▸ **hasTimer**(`task`): `boolean`

#### Parameters

| Name   | Type                                                                                                                            |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> |

#### Returns

`boolean`

#### Defined in

[src/renderer/default.renderer.ts:183](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L183)

---

### getSelfOrParentOption

▸ **getSelfOrParentOption**<`T`\>(`task`, `key`): { `indentation?`: `number` ; `clearOutput?`: `boolean` ; `showSubtasks?`: `boolean` ; `collapse?`: `boolean` ; `showSkipMessage?`: `boolean` ; `collapseSkips?`: `boolean` ; `suffixSkips?`: `boolean` ; `showErrorMessage?`: `boolean` ; `collapseErrors?`: `boolean` ; `suffixRetries?`: `boolean` ; `lazy?`: `boolean` ; `showTimer?`: `boolean` ; `removeEmptyLines?`: `boolean` ; `formatOutput?`: `"truncate"` \| `"wrap"` }[`T`]

#### Type parameters

| Name | Type |
| :-- | :-- |
| `T` | extends `"indentation"` \| `"clearOutput"` \| `"showSubtasks"` \| `"collapse"` \| `"showSkipMessage"` \| `"collapseSkips"` \| `"suffixSkips"` \| `"showErrorMessage"` \| `"collapseErrors"` \| `"suffixRetries"` \| `"lazy"` \| `"showTimer"` \| `"removeEmptyLines"` \| `"formatOutput"` |

#### Parameters

| Name   | Type                                                                                                                            |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> |
| `key`  | `T`                                                                                                                             |

#### Returns

{ `indentation?`: `number` ; `clearOutput?`: `boolean` ; `showSubtasks?`: `boolean` ; `collapse?`: `boolean` ; `showSkipMessage?`: `boolean` ; `collapseSkips?`: `boolean` ; `suffixSkips?`: `boolean` ; `showErrorMessage?`: `boolean` ; `collapseErrors?`: `boolean` ; `suffixRetries?`: `boolean` ; `lazy?`: `boolean` ; `showTimer?`: `boolean` ; `removeEmptyLines?`: `boolean` ; `formatOutput?`: `"truncate"` \| `"wrap"` }[`T`]

#### Defined in

[src/renderer/default.renderer.ts:187](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L187)

---

### getTaskTime

▸ **getTaskTime**(`task`): `string`

#### Parameters

| Name   | Type                                                                                                                            |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:195](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L195)

---

### createRender

▸ **createRender**(`options?`): `string`

#### Parameters

| Name                 | Type      |
| :------------------- | :-------- |
| `options?`           | `Object`  |
| `options.tasks?`     | `boolean` |
| `options.bottomBar?` | `boolean` |
| `options.prompt?`    | `boolean` |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:199](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L199)

---

### render

▸ **render**(): `void`

#### Returns

`void`

#### Implementation of

ListrRenderer.render

#### Defined in

[src/renderer/default.renderer.ts:230](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L230)

---

### end

▸ **end**(): `void`

#### Returns

`void`

#### Implementation of

ListrRenderer.end

#### Defined in

[src/renderer/default.renderer.ts:251](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L251)

---

### multiLineRenderer

▸ `Private` **multiLineRenderer**(`tasks`, `level?`): `string`

#### Parameters

| Name    | Type                                                                                                                              | Default value |
| :------ | :-------------------------------------------------------------------------------------------------------------------------------- | :------------ |
| `tasks` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\>[] | `undefined`   |
| `level` | `number`                                                                                                                          | `0`           |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:268](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L268)

---

### renderBottomBar

▸ `Private` **renderBottomBar**(): `string`

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:418](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L418)

---

### renderPrompt

▸ `Private` **renderPrompt**(): `string`

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:440](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L440)

---

### dumpData

▸ `Private` **dumpData**(`task`, `level`, `source?`): `string`

#### Parameters

| Name     | Type                                                                                                                            | Default value |
| :------- | :------------------------------------------------------------------------------------------------------------------------------ | :------------ |
| `task`   | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> | `undefined`   |
| `level`  | `number`                                                                                                                        | `undefined`   |
| `source` | `"output"` \| `"skip"` \| `"error"`                                                                                             | `'output'`    |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:446](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L446)

---

### formatString

▸ `Private` **formatString**(`str`, `icon`, `level`): `string`

#### Parameters

| Name    | Type     |
| :------ | :------- |
| `str`   | `string` |
| `icon`  | `string` |
| `level` | `number` |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:470](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L470)

---

### indentMultilineOutput

▸ `Private` **indentMultilineOutput**(`str`, `i`): `string`

#### Parameters

| Name  | Type     |
| :---- | :------- |
| `str` | `string` |
| `i`   | `number` |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:507](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L507)

---

### getSymbol

▸ `Private` **getSymbol**(`task`, `data?`): `string`

#### Parameters

| Name   | Type                                                                                                                            | Default value |
| :----- | :------------------------------------------------------------------------------------------------------------------------------ | :------------ |
| `task` | [`ListrTaskObject`](index.ListrTaskObject.md)<`any`, typeof [`DefaultRenderer`](renderer_default_renderer.DefaultRenderer.md)\> | `undefined`   |
| `data` | `boolean`                                                                                                                       | `false`       |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:512](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L512)

---

### addSuffixToMessage

▸ `Private` **addSuffixToMessage**(`message`, `suffix`, `condition?`): `string`

#### Parameters

| Name         | Type      |
| :----------- | :-------- |
| `message`    | `string`  |
| `suffix`     | `string`  |
| `condition?` | `boolean` |

#### Returns

`string`

#### Defined in

[src/renderer/default.renderer.ts:536](https://github.com/cenk1cenk2/listr2/blob/12dcf06/src/renderer/default.renderer.ts#L536)
